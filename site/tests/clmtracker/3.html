---
title: ClmTracker draw
layout: clmtracker
permalink: /clmtracker/3/
test: true
---
<script src="{{site.baseurl}}assets/libs/clmtrackr/models/model_pca_10_mosse.js"></script>
<video id="video" width="1200" height="900" preload="auto" playsinline autoplay></video>
<canvas width="1200" height="900" id="canvas"></canvas>
<script>
  var video = document.getElementById('video'),
      canvas = document.getElementById('canvas');

  window.onload = function() {
      webcam(success, success);
  }

  function success(stream) {
      var cc = canvas.getContext('2d');
      cc.fillStyle = "rgb(200,0,0)";

      if (video.hasOwnProperty("srcObject")) {
          video.srcObject = stream;
      } else {
          video.src = (window.URL && window.URL.createObjectURL(stream));
      }

      var ctracker = new clm.tracker();
      ctracker.init();
      ctracker.start(video);

      draw();
      function draw() {
          compatibility.requestAnimationFrame(draw);
          cc.clearRect(0,0,1200,900);
          ctracker.draw(canvas);
      }
  }
</script>